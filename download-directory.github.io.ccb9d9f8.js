parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"i0aF":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,n){"function"==typeof e&&e.amd?e([],n):"undefined"!=typeof exports?n():(n(),t.FileSaver={})}(this,function(){"use strict";function e(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){r(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t&&t.global===t?t:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(t,i,r){var s=a.URL||a.webkitURL,c=document.createElement("a");i=i||t.name||"download",c.download=i,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?o(c):n(c.href)?e(t,i,r):o(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){o(c)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,i){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(t,i),a);else if(n(t))e(t,a,i);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){o(r)})}}:function(t,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var s="application/octet-stream"===t.type,c=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(t)}else{var f=a.URL||a.webkitURL,d=f.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});a.saveAs=r.saveAs=r,"undefined"!=typeof module&&(module.exports=r)});
},{}],"EwkZ":[function(require,module,exports) {
module.exports=function(o){return atob(o)};
},{}],"ZYml":[function(require,module,exports) {
var define;
var e;!function(n){"use strict";function t(e,n){if(e instanceof Boolean||"boolean"==typeof e)return!1;if(n instanceof Object||(n={}),n.hasOwnProperty("allowBlank")&&!n.allowBlank&&""===e)return!1;var t="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?";return n.mime&&(t="(data:\\w+\\/[a-zA-Z\\+\\-\\.]+;base64,)?"+t),!1===n.paddingRequired&&(t="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?"),new RegExp("^"+t+"$","gi").test(e)}"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.isBase64=t):"function"==typeof e&&e.amd?e([],function(){return t}):n.isBase64=t}(this);
},{}],"z1Kv":[function(require,module,exports) {
"use strict";var r=require("atob-lite"),e=require("is-base64");function t(r){for(var e=new Uint8Array(r.length),t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e.buffer}function n(e){var n=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===n||n<=4)throw new TypeError("malformed data-URI");for(var a=e.substring(5,n).split(";"),i=!1,s="US-ASCII",u=0;u<a.length;u++)"base64"==a[u]?i=!0:0==a[u].indexOf("charset=")&&(s=a[u].substring(8));var o=unescape(e.substring(n+1));i&&(o=r(o));var f=t(o);return f.type=a[0]||"text/plain",f.charset=s,f}module.exports=function(a){if("string"!=typeof a)throw Error("Argument should be a string");return/^data\:/i.test(a)?n(a):(e(a)&&(a=r(a)),t(a))};
},{"atob-lite":"EwkZ","is-base64":"ZYml"}],"sMXx":[function(require,module,exports) {
module.exports=function(r){switch(r){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}};
},{}],"StL8":[function(require,module,exports) {
var e=require("dtype");function r(r,t,n){if(!r)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(r)&&r[0]&&"number"==typeof r[0][0]){var a,l,o,s,f=r[0].length,i=r.length*f;t&&"string"!=typeof t||(t=new(e(t||"float32"))(i+n));var h=t.length-n;if(i!==h)throw new Error("source length "+i+" ("+f+"x"+r.length+") does not match destination length "+h);for(a=0,o=n;a<r.length;a++)for(l=0;l<f;l++)t[o++]=null===r[a][l]?NaN:r[a][l]}else if(t&&"string"!=typeof t)t.set(r,n);else{var g=e(t||"float32");if(Array.isArray(r)||"array"===t)for(a=0,o=n,s=(t=new g(r.length+n)).length;o<s;o++,a++)t[o]=null===r[a]?NaN:r[a];else 0===n?t=new g(r):(t=new g(r.length+n)).set(r,n)}return t}module.exports=r;
},{"dtype":"sMXx"}],"sn8N":[function(require,module,exports) {
"use strict";var r=require("string-to-arraybuffer"),e=require("flatten-vertex-data");module.exports=function t(f){if(!f)return null;if(f instanceof ArrayBuffer)return f;if("string"==typeof f)return r(f);if(ArrayBuffer.isView(f))return f.byteOffset?f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength):f.buffer;var a;if(f.buffer||f.data||f._data)return a=t(f.buffer||f.data||f._data);if(Array.isArray(f))for(var n=0;n<f.length;n++)if(null!=f[n].length){f=e(f);break}return(a=new Uint8Array(f)).length?a.buffer:null};
},{"string-to-arraybuffer":"z1Kv","flatten-vertex-data":"StL8"}],"W65t":[function(require,module,exports) {
var t;module.exports=function(a){return function(i){var p=(i=i.toLowerCase().trim()).lastIndexOf("/");return p>=0&&(i=i.substr(p+1)),(p=i.lastIndexOf("."))>=0&&(i=i.substr(p+1)),t[i]||a}},t={"3gp":"video/3gpp",a:"application/octet-stream",ai:"application/postscript",aif:"audio/x-aiff",aiff:"audio/x-aiff",asc:"application/pgp-signature",asf:"video/x-ms-asf",asm:"text/x-asm",asx:"video/x-ms-asf",atom:"application/atom+xml",au:"audio/basic",avi:"video/x-msvideo",bat:"application/x-msdownload",bin:"application/octet-stream",bmp:"image/bmp",bz2:"application/x-bzip2",c:"text/x-csrc",cab:"application/vnd.ms-cab-compressed",can:"application/candor",cc:"text/x-c++src",chm:"application/vnd.ms-htmlhelp",class:"application/octet-stream",com:"application/x-msdownload",conf:"text/plain",cpp:"text/x-c",crt:"application/x-x509-ca-cert",css:"text/css",csv:"text/csv",cxx:"text/x-c",deb:"application/x-debian-package",der:"application/x-x509-ca-cert",diff:"text/x-diff",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/x-msdownload",dmg:"application/octet-stream",doc:"application/msword",dot:"application/msword",dtd:"application/xml-dtd",dvi:"application/x-dvi",ear:"application/java-archive",eml:"message/rfc822",eps:"application/postscript",exe:"application/x-msdownload",f:"text/x-fortran",f77:"text/x-fortran",f90:"text/x-fortran",flv:"video/x-flv",for:"text/x-fortran",gem:"application/octet-stream",gemspec:"text/x-script.ruby",gif:"image/gif",gyp:"text/x-script.python",gypi:"text/x-script.python",gz:"application/x-gzip",h:"text/x-chdr",hh:"text/x-c++hdr",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",ics:"text/calendar",ifb:"text/calendar",iso:"application/octet-stream",jar:"application/java-archive",java:"text/x-java-source",jnlp:"application/x-java-jnlp-file",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/javascript",json:"application/json",less:"text/css",log:"text/plain",lua:"text/x-script.lua",luac:"application/x-bytecode.lua",makefile:"text/x-makefile",m3u:"audio/x-mpegurl",m4v:"video/mp4",man:"text/troff",manifest:"text/cache-manifest",markdown:"text/x-markdown",mathml:"application/mathml+xml",mbox:"application/mbox",mdoc:"text/troff",md:"text/x-markdown",me:"text/troff",mid:"audio/midi",midi:"audio/midi",mime:"message/rfc822",mml:"application/mathml+xml",mng:"video/x-mng",mov:"video/quicktime",mp3:"audio/mpeg",mp4:"video/mp4",mp4v:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",ms:"text/troff",msi:"application/x-msdownload",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogg:"application/ogg",p:"text/x-pascal",pas:"text/x-pascal",pbm:"image/x-portable-bitmap",pdf:"application/pdf",pem:"application/x-x509-ca-cert",pgm:"image/x-portable-graymap",pgp:"application/pgp-encrypted",pkg:"application/octet-stream",pl:"text/x-script.perl",pm:"text/x-script.perl-module",png:"image/png",pnm:"image/x-portable-anymap",ppm:"image/x-portable-pixmap",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",ps:"application/postscript",psd:"image/vnd.adobe.photoshop",py:"text/x-script.python",qt:"video/quicktime",ra:"audio/x-pn-realaudio",rake:"text/x-script.ruby",ram:"audio/x-pn-realaudio",rar:"application/x-rar-compressed",rb:"text/x-script.ruby",rdf:"application/rdf+xml",roff:"text/troff",rpm:"application/x-redhat-package-manager",rss:"application/rss+xml",rtf:"application/rtf",ru:"text/x-script.ruby",s:"text/x-asm",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",sig:"application/pgp-signature",snd:"audio/basic",so:"application/octet-stream",svg:"image/svg+xml",svgz:"image/svg+xml",swf:"application/x-shockwave-flash",t:"text/troff",tar:"application/x-tar",tbz:"application/x-bzip-compressed-tar",tci:"application/x-topcloud",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",text:"text/plain",tif:"image/tiff",tiff:"image/tiff",torrent:"application/x-bittorrent",tr:"text/troff",ttf:"application/x-font-ttf",txt:"text/plain",vcf:"text/x-vcard",vcs:"text/x-vcalendar",vrml:"model/vrml",war:"application/java-archive",wav:"audio/x-wav",webapp:"application/x-web-app-manifest+json",webm:"video/webm",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wrl:"model/vrml",wsdl:"application/wsdl+xml",xbm:"image/x-xbitmap",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xslt:"application/xslt+xml",yaml:"text/yaml",yml:"text/yaml",zip:"application/zip"};
},{}],"Fr4I":[function(require,module,exports) {
"use strict";var t=Object.prototype.toString;module.exports=function(o){return o instanceof Blob||"[object Blob]"===t.call(o)};
},{}],"dynX":[function(require,module,exports) {
"use strict";var e=require("to-array-buffer"),r=require("simple-mime")("application/octect-stream"),i=require("is-blob");module.exports=function(t,o){if(!(i(t)||t instanceof File)){t=e(t);var a=r(o||"");t=new Blob([t],{type:a})}return t};
},{"to-array-buffer":"sn8N","simple-mime":"W65t","is-blob":"Fr4I"}],"NPZX":[function(require,module,exports) {
"use strict";var e=require("file-saver").saveAs,n=require("./src/to-blob"),r=null;function t(o,s){if("string"==typeof o&&("string"!=typeof s||s.length>o.length)){var u=s;s=o,o=u}var i=n(o,s);return r?r.then(function(){return r=t(o,s)}):r=new Promise(function(n,t){e(i,s),window.addEventListener("focus",function e(){r=null,window.removeEventListener("focus",e),n()})})}function o(r,t){return e(n(r,t),t)}module.exports=t,module.exports.save=t,module.exports.saveSync=o;
},{"file-saver":"i0aF","./src/to-blob":"dynX"}],"Yf0o":[function(require,module,exports) {
module.exports=fetch;
},{}],"B0HW":[function(require,module,exports) {
const e=require("node-fetch");async function t(t,r){return(await e(`https://api.github.com/repos/${t}`,{headers:r?{Authorization:`Bearer ${r}`}:void 0})).json()}async function r({user:e,repository:o,ref:s="HEAD",directory:a,token:i,getFullData:n=!1}){const u=[],p=[],c=await t(`${e}/${o}/contents/${a}?ref=${s}`,i);if("Not Found"===c.message)return[];if(c.message)throw new Error(c.message);for(const t of c)"file"===t.type?u.push(n?t:t.path):"dir"===t.type&&p.push(r({user:e,repository:o,ref:s,directory:t.path,token:i,getFullData:n}));return u.concat(...await Promise.all(p))}async function o({user:e,repository:r,ref:o="HEAD",directory:s,token:a,getFullData:i=!1}){s.endsWith("/")||(s+="/");const n=[],u=await t(`${e}/${r}/git/trees/${o}?recursive=1`,a);if(u.message)throw new Error(u.message);for(const t of u.tree)"blob"===t.type&&t.path.startsWith(s)&&n.push(i?t:t.path);return n.truncated=u.truncated,n}module.exports.viaContentsApi=r,module.exports.viaContentApi=r,module.exports.viaTreesApi=o,module.exports.viaTreeApi=o;
},{"node-fetch":"Yf0o"}],"KTOT":[function(require,module,exports) {
"use strict";module.exports=((e,t=1,n)=>{if(n={indent:" ",includeEmptyLines:!1,...n},"string"!=typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof n.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof n.indent}\``);if(0===t)return e;const r=n.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(r,n.indent.repeat(t))});
},{}],"sC8V":[function(require,module,exports) {

},{}],"H9kI":[function(require,module,exports) {
"use strict";const e=require("os"),t=/\s+at.*(?:\(|\s)(.*)\)?/,r=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,s=void 0===e.homedir?"":e.homedir();module.exports=((e,n)=>(n=Object.assign({pretty:!1},n),e.replace(/\\/g,"/").split("\n").filter(e=>{const s=e.match(t);if(null===s||!s[1])return!0;const n=s[1];return!n.includes(".app/Contents/Resources/electron.asar")&&!n.includes(".app/Contents/Resources/default_app.asar")&&!r.test(n)}).filter(e=>""!==e.trim()).map(e=>n.pretty?e.replace(t,(e,t)=>e.replace(t,t.replace(s,"~"))):e).join("\n")));
},{"os":"sC8V"}],"mCS2":[function(require,module,exports) {
"use strict";const r=require("indent-string"),e=require("clean-stack"),t=r=>r.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"");class o extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let s=(o=[...o].map(r=>r instanceof Error?r:null!==r&&"object"==typeof r?Object.assign(new Error(r.message),r):new Error(r))).map(r=>"string"==typeof r.stack?t(e(r.stack)):String(r)).join("\n");super(s="\n"+r(s,4)),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:o})}*[Symbol.iterator](){for(const r of this._errors)yield r}}module.exports=o;
},{"indent-string":"KTOT","clean-stack":"H9kI"}],"Mb4f":[function(require,module,exports) {
"use strict";const e=require("aggregate-error");module.exports=(async(r,t,{concurrency:n=1/0,stopOnError:o=!0}={})=>new Promise((c,i)=>{if("function"!=typeof t)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(n)&&n!==1/0||!(n>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${n}\` (${typeof n})`);const a=[],s=[],u=r[Symbol.iterator]();let f=!1,p=!1,y=0,w=0;const g=()=>{if(f)return;const r=u.next(),n=w;if(w++,r.done)return p=!0,void(0===y&&(o||0===s.length?c(a):i(new e(s))));y++,(async()=>{try{const c=await r.value;a[n]=await t(c,n),y--,g()}catch(e){o?(f=!0,i(e)):(s.push(e),y--,g())}})()};for(let e=0;e<n&&(g(),!p);e++);}));
},{"aggregate-error":"mCS2"}],"PqWU":[function(require,module,exports) {
function t(t,e){"boolean"==typeof e&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}module.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=(new Date).getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var i=this._timeouts.shift();if(void 0===i){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),i=this._cachedTimeouts.slice(-1)}var o=this;return this._timer=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),o._options.unref&&o._timeout.unref()),o._fn(o._attempts)},i),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var i=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){i._operationTimeoutCb()},i._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},t.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,i=0,o=0;o<this._errors.length;o++){var r=this._errors[o],s=r.message,n=(t[s]||0)+1;t[s]=n,n>=i&&(e=r,i=n)}return e};
},{}],"Wk2y":[function(require,module,exports) {
var r=require("./retry_operation");exports.operation=function(t){var e=exports.timeouts(t);return new r(e,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},exports.timeouts=function(r){if(r instanceof Array)return[].concat(r);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var e in r)t[e]=r[e];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],i=0;i<t.retries;i++)o.push(this.createTimeout(i,t));return r&&r.forever&&!o.length&&o.push(this.createTimeout(i,t)),o.sort(function(r,t){return r-t}),o},exports.createTimeout=function(r,t){var e=t.randomize?Math.random()+1:1,o=Math.round(e*Math.max(t.minTimeout,1)*Math.pow(t.factor,r));return o=Math.min(o,t.maxTimeout)},exports.wrap=function(r,t,e){if(t instanceof Array&&(e=t,t=null),!e)for(var o in e=[],r)"function"==typeof r[o]&&e.push(o);for(var i=0;i<e.length;i++){var n=e[i],a=r[n];r[n]=function(e){var o=exports.operation(t),i=Array.prototype.slice.call(arguments,1),n=i.pop();i.push(function(r){o.retry(r)||(r&&(arguments[0]=o.mainError()),n.apply(this,arguments))}),o.attempt(function(){e.apply(r,i)})}.bind(r,a),r[n].options=t}};
},{"./retry_operation":"PqWU"}],"NFGJ":[function(require,module,exports) {
module.exports=require("./lib/retry");
},{"./lib/retry":"Wk2y"}],"XFsp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbortError=void 0,exports.default=i;var r=e(require("retry"));function e(r){return r&&r.__esModule?r:{default:r}}const t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"]);class o extends Error{constructor(r){super(),r instanceof Error?(this.originalError=r,({message:r}=r)):(this.originalError=new Error(r),this.originalError.stack=this.stack),this.name="AbortError",this.message=r}}exports.AbortError=o;const s=(r,e,t)=>{const o=t.retries-(e-1);return r.attemptNumber=e,r.retriesLeft=o,r},n=r=>t.has(r);async function i(e,t){return new Promise((i,a)=>{t={onFailedAttempt:()=>{},retries:10,...t};const c=r.default.operation(t);c.attempt(async r=>{try{i(await e(r))}catch(u){if(!(u instanceof Error))return void a(new TypeError(`Non-error was thrown: "${u}". You should only throw errors.`));if(u instanceof o)c.stop(),a(u.originalError);else if(u instanceof TypeError&&!n(u.message))c.stop(),a(u);else{s(u,r,t);try{await t.onFailedAttempt(u)}catch(u){return void a(u)}c.retry(u)||a(c.mainError())}}})})}
},{"retry":"NFGJ"}],"Focm":[function(require,module,exports) {
"use strict";var e=r(require("save-file")),t=r(require("list-github-dir-content")),o=r(require("p-map")),n=r(require("p-retry"));function r(e){return e&&e.__esModule?e:{default:e}}const a=/^[/]([^/]+)[/]([^/]+)[/]tree[/]([^/]+)[/](.*)/;function i(e,...t){const o=document.querySelector(".status");o.innerHTML=e||"",console.log(o.textContent,...t)}async function s(){const e=document.querySelector("#token");if(localStorage.token)e.value=localStorage.token;else{const t=document.querySelector("#token-toggle");t.checked=!0,i("Waiting for token..."),await new Promise(o=>{e.addEventListener("input",function n(){e.checkValidity()&&(t.checked=!1,o(),e.removeEventListener("input",n))})})}}async function c(e){const t=await fetch(`https://api.github.com/repos/${e}`,localStorage.token?{headers:{Authorization:`Bearer ${localStorage.token}`}}:{});switch(t.status){case 401:throw i("⚠ The token provided is invalid or has been revoked.",{token:localStorage.token}),new Error("Invalid token");case 403:if("0"===t.headers.get("X-RateLimit-Remaining"))throw i("⚠ Your token rate limit has been exceeded.",{token:localStorage.token}),new Error("Rate limit exceeded");break;case 404:throw i("⚠ Repository was not found.",{repo:e}),new Error("Repository not found")}if(!t.ok)throw i("⚠ Could not obtain repository data from the GitHub API.",{repo:e,response:t}),new Error("Fetch error");return t.json()}async function l(){const{default:e}=await import(new URL("https://cdn.skypack.dev/jszip@^3.4.0"));return new e}async function d(){const r=l();let d,u,w,f;const h=document.querySelector("#token");localStorage.token&&(h.value=localStorage.token),h.addEventListener("input",()=>{h.checkValidity()&&(localStorage.token=h.value)});try{const e=new URLSearchParams(location.search),t=new URL(e.get("url"));[,d,u,w,f]=a.exec(t.pathname),console.log("Source:",{user:d,repository:u,ref:w,dir:f})}catch{return i()}if(!navigator.onLine)throw i("⚠ You are offline."),new Error("You are offline");i("Retrieving directory info…");const{private:p}=await c(`${d}/${u}`),g=await t.default.viaTreesApi({user:d,repository:u,ref:w,directory:decodeURIComponent(f),token:localStorage.token,getFullData:!0});if(0===g.length)return void i("No files to download");i(`Downloading (0/${g.length}) files…`,"\n• "+g.map(e=>e.path).join("\n• "));const k=new AbortController;let y=0;const m=async e=>(0,n.default)(()=>p?(async e=>{const t=await fetch(e.url,{headers:{Authorization:`Bearer ${localStorage.token}`},signal:k.signal});if(!t.ok)throw new Error(`HTTP ${t.statusText} for ${e.path}`);const{content:o}=await t.json();return(await fetch(`data:application/octet-stream;base64,${o}`)).blob()})(e):(async e=>{const t=await fetch(`https://raw.githubusercontent.com/${d}/${u}/${w}/${e.path}`,{signal:k.signal});if(!t.ok)throw new Error(`HTTP ${t.statusText} for ${e.path}`);return t.blob()})(e),{onFailedAttempt:async t=>{await console.error(`Error downloading ${e.url}. Attempt ${t.attemptNumber}. ${t.retriesLeft} retries left.`)}}),$=async e=>{const t=await m(e);i(`Downloading (${++y}/${g.length}) files…`,e.path),(await r).file(e.path.replace(f+"/",""),t,{binary:!0})};p&&await s();try{await(0,o.default)(g,$,{concurrency:20})}catch(b){throw k.abort(),navigator.onLine?b.message.startsWith("HTTP ")?i("⚠ Could not download all files."):i("⚠ Some files were blocked from downloading, try to disable any ad blockers and refresh the page."):i("⚠ Could not download all files, network connection lost."),b}i(`Zipping ${y} files…`);const v=await(await r).generateAsync({type:"blob"});await(0,e.default)(v,`${d} ${u} ${w} ${f}.zip`.replace(/\//,"-")),i(`Downloaded ${y} files! Done!`)}d(),window.addEventListener("load",()=>{navigator.serviceWorker.register(new URL("service-worker.js"))});
},{"save-file":"NPZX","list-github-dir-content":"B0HW","p-map":"Mb4f","p-retry":"XFsp"}]},{},["Focm"], null)
//# sourceMappingURL=download-directory.github.io.ccb9d9f8.js.map