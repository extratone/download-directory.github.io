{"version":3,"sources":["../src/FileSaver.js","node_modules/atob-lite/atob-browser.js","node_modules/is-base64/is-base64.js","node_modules/string-to-arraybuffer/index.js","node_modules/dtype/index.js","node_modules/flatten-vertex-data/index.js","node_modules/to-array-buffer/index.js","node_modules/simple-mime/simple-mime.js","node_modules/is-blob/index.js","node_modules/save-file/src/to-blob.js","node_modules/save-file/browser.js","node_modules/list-github-dir-content/browser-fetch.js","node_modules/list-github-dir-content/index.js","node_modules/indent-string/index.js","node_modules/clean-stack/index.js","node_modules/aggregate-error/index.js","node_modules/p-map/index.js","node_modules/retry/lib/retry_operation.js","node_modules/retry/lib/retry.js","node_modules/retry/index.js","node_modules/p-retry/index.js","index.js"],"names":["module","exports","dtype","Int8Array","Int16Array","Int32Array","Uint8Array","Uint16Array","Uint32Array","Float32Array","Float64Array","Array","Uint8ClampedArray","toString","Object","prototype","x","Blob","call","string","count","options","indent","includeEmptyLines","TypeError","regex","replace","repeat","os","require","extractPathRegex","pathRegex","homeDir","homedir","stack","assign","pretty","split","filter","line","pathMatches","match","includes","test","trim","map","m","p1","join","indentString","cleanStack","cleanInternalStack","AggregateError","Error","constructor","errors","isArray","message","error","String","name","defineProperty","value","Symbol","iterator","_errors","iterable","mapper","concurrency","Infinity","stopOnError","Promise","resolve","reject","Number","isSafeInteger","result","isRejected","isIterableDone","resolvingCount","currentIndex","next","nextItem","index","done","length","element","push","i","RetryOperation","timeouts","forever","_originalTimeouts","JSON","parse","stringify","_timeouts","_options","_maxRetryTime","maxRetryTime","_fn","_attempts","_operationTimeout","_operationTimeoutCb","_timeout","_operationStart","_timer","_cachedTimeouts","slice","reset","stop","clearTimeout","retry","err","currentTime","Date","getTime","unshift","timeout","shift","undefined","splice","self","setTimeout","unref","attempt","fn","timeoutOps","cb","try","console","log","start","attempts","mainError","counts","mainErrorCount","operation","retries","concat","opts","factor","minTimeout","maxTimeout","randomize","key","createTimeout","sort","a","b","random","Math","round","max","pow","min","wrap","obj","methods","method","original","op","args","arguments","callback","pop","apply","bind","networkErrorMsgs","Set","AbortError","originalError","decorateErrorWithCounts","attemptNumber","retriesLeft","isNetworkError","errorMessage","has","pRetry","input","onFailedAttempt","urlParserRegex","updateStatus","status","extra","document","querySelector","innerHTML","textContent","waitForToken","localStorage","token","toggle","checked","addEventListener","handler","checkValidity","removeEventListener","fetchRepoInfo","repo","response","fetch","headers","Authorization","get","ok","json","getZIP","default","JSZip","URL","init","zip","user","repository","ref","dir","query","URLSearchParams","location","search","parsedUrl","exec","pathname","navigator","onLine","private","repoIsPrivate","files","listContent","viaTreesApi","directory","decodeURIComponent","getFullData","file","path","controller","AbortController","downloaded","downloadFile","url","signal","statusText","content","decoder","blob","fetchPrivateFile","fetchPublicFile","downloadToZip","binary","abort","startsWith","zipBlob","generateAsync","type","window","serviceWorker","register"],"mappings":"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","file":"download-directory.github.io.ccb9d9f8.js","sourceRoot":"..","sourcesContent":["/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","module.exports = function _atob(str) {\n  return atob(str)\n}\n","(function(root) {\n  'use strict';\n\n  function isBase64(v, opts) {\n    if (v instanceof Boolean || typeof v === 'boolean') {\n      return false\n    }\n    if (!(opts instanceof Object)) {\n      opts = {}\n    }\n    if (opts.hasOwnProperty('allowBlank') && !opts.allowBlank && v === '') {\n      return false\n    }\n\n    var regex = '(?:[A-Za-z0-9+\\\\/]{4})*(?:[A-Za-z0-9+\\\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?';\n\n    if (opts.mime) {\n      regex = '(data:\\\\w+\\\\/[a-zA-Z\\\\+\\\\-\\\\.]+;base64,)?' + regex\n    }\n\n    if (opts.paddingRequired === false) {\n      regex = '(?:[A-Za-z0-9+\\\\/]{4})*(?:[A-Za-z0-9+\\\\/]{2}(==)?|[A-Za-z0-9+\\\\/]{3}=?)?'\n    }\n\n    return (new RegExp('^' + regex + '$', 'gi')).test(v);\n  }\n\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = isBase64;\n    }\n    exports.isBase64 = isBase64;\n  } else if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return isBase64;\n    });\n  } else {\n    root.isBase64 = isBase64;\n  }\n})(this);\n","/**\r\n * @module  string-to-arraybuffer\r\n */\r\n\r\n'use strict'\r\n\r\nvar atob = require('atob-lite')\r\nvar isBase64 = require('is-base64')\r\n\r\nmodule.exports = function stringToArrayBuffer (arg) {\r\n\tif (typeof arg !== 'string') throw Error('Argument should be a string')\r\n\r\n\t//valid data uri\r\n\tif (/^data\\:/i.test(arg)) return decode(arg)\r\n\r\n\t//base64\r\n\tif (isBase64(arg)) arg = atob(arg)\r\n\r\n\treturn str2ab(arg)\r\n}\r\n\r\nfunction str2ab (str) {\r\n\tvar array = new Uint8Array(str.length);\r\n\tfor(var i = 0; i < str.length; i++) {\r\n\t\tarray[i] = str.charCodeAt(i);\r\n\t}\r\n\treturn array.buffer\r\n}\r\n\r\nfunction decode(uri) {\r\n\t// strip newlines\r\n\turi = uri.replace(/\\r?\\n/g, '');\r\n\r\n\t// split the URI up into the \"metadata\" and the \"data\" portions\r\n\tvar firstComma = uri.indexOf(',');\r\n\tif (-1 === firstComma || firstComma <= 4) throw new TypeError('malformed data-URI');\r\n\r\n\t// remove the \"data:\" scheme and parse the metadata\r\n\tvar meta = uri.substring(5, firstComma).split(';');\r\n\r\n\tvar base64 = false;\r\n\tvar charset = 'US-ASCII';\r\n\tfor (var i = 0; i < meta.length; i++) {\r\n\t\tif ('base64' == meta[i]) {\r\n\t\t\tbase64 = true;\r\n\t\t} else if (0 == meta[i].indexOf('charset=')) {\r\n\t\t\tcharset = meta[i].substring(8);\r\n\t\t}\r\n\t}\r\n\r\n\t// get the encoded data portion and decode URI-encoded chars\r\n\tvar data = unescape(uri.substring(firstComma + 1));\r\n\r\n\tif (base64) data = atob(data)\r\n\r\n\tvar abuf = str2ab(data)\r\n\r\n\tabuf.type = meta[0] || 'text/plain'\r\n\tabuf.charset = charset\r\n\r\n\treturn abuf\r\n}\r\n","module.exports = function(dtype) {\n  switch (dtype) {\n    case 'int8':\n      return Int8Array\n    case 'int16':\n      return Int16Array\n    case 'int32':\n      return Int32Array\n    case 'uint8':\n      return Uint8Array\n    case 'uint16':\n      return Uint16Array\n    case 'uint32':\n      return Uint32Array\n    case 'float32':\n      return Float32Array\n    case 'float64':\n      return Float64Array\n    case 'array':\n      return Array\n    case 'uint8_clamped':\n      return Uint8ClampedArray\n  }\n}\n","/*eslint new-cap:0*/\nvar dtype = require('dtype')\n\nmodule.exports = flattenVertexData\n\nfunction flattenVertexData (data, output, offset) {\n  if (!data) throw new TypeError('must specify data as first parameter')\n  offset = +(offset || 0) | 0\n\n  if (Array.isArray(data) && (data[0] && typeof data[0][0] === 'number')) {\n    var dim = data[0].length\n    var length = data.length * dim\n    var i, j, k, l\n\n    // no output specified, create a new typed array\n    if (!output || typeof output === 'string') {\n      output = new (dtype(output || 'float32'))(length + offset)\n    }\n\n    var dstLength = output.length - offset\n    if (length !== dstLength) {\n      throw new Error('source length ' + length + ' (' + dim + 'x' + data.length + ')' +\n        ' does not match destination length ' + dstLength)\n    }\n\n    for (i = 0, k = offset; i < data.length; i++) {\n      for (j = 0; j < dim; j++) {\n        output[k++] = data[i][j] === null ? NaN : data[i][j]\n      }\n    }\n  } else {\n    if (!output || typeof output === 'string') {\n      // no output, create a new one\n      var Ctor = dtype(output || 'float32')\n\n      // handle arrays separately due to possible nulls\n      if (Array.isArray(data) || output === 'array') {\n        output = new Ctor(data.length + offset)\n        for (i = 0, k = offset, l = output.length; k < l; k++, i++) {\n          output[k] = data[i] === null ? NaN : data[i]\n        }\n      } else {\n        if (offset === 0) {\n          output = new Ctor(data)\n        } else {\n          output = new Ctor(data.length + offset)\n\n          output.set(data, offset)\n        }\n      }\n    } else {\n      // store output in existing array\n      output.set(data, offset)\n    }\n  }\n\n  return output\n}\n","/**\r\n * @module  to-array-buffer\r\n */\r\n\r\n'use strict'\r\n\r\nvar str2ab = require('string-to-arraybuffer')\r\nvar flat = require('flatten-vertex-data')\r\n// var isBlob = require('is-blob')\r\n\r\n\r\nmodule.exports = function toArrayBuffer (arg) {\r\n\t//zero-length or undefined-like\r\n\tif (!arg) return null\r\n\r\n\t//array buffer\r\n\tif (arg instanceof ArrayBuffer) return arg\r\n\r\n\t//try to decode data-uri\r\n\tif (typeof arg === 'string') {\r\n\t\treturn str2ab(arg)\r\n\t}\r\n\r\n\t// File & Blob\r\n\t// if (isBlob(src) || (src instanceof global.File)) {\r\n\t\t// FIXME: we cannot use it here bc FileReader is async\r\n\t// }\r\n\r\n\t//array buffer view: TypedArray, DataView, Buffer etc\r\n\tif (ArrayBuffer.isView(arg)) {\r\n\t\t// if byteOffset is not 0, return sub-reference (slice is the only way)\r\n\t\tif (arg.byteOffset) {\r\n\t\t\treturn arg.buffer.slice(arg.byteOffset, arg.byteOffset + arg.byteLength)\r\n\t\t}\r\n\t\treturn arg.buffer\r\n\t}\r\n\r\n\t//buffer/data nested: NDArray, ImageData etc.\r\n\t//FIXME: NDArrays with custom data type may be invalid for this procedure\r\n\tif (arg.buffer || arg.data || arg._data) {\r\n\t\tvar result = toArrayBuffer(arg.buffer || arg.data || arg._data)\r\n\t\treturn result\r\n\t}\r\n\r\n\t// detect if flat\r\n\tif (Array.isArray(arg)) {\r\n\t\tfor (var i = 0; i < arg.length; i++) {\r\n\t\t\tif (arg[i].length != null) {\r\n\t\t\t\targ = flat(arg)\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//array-like or unknown\r\n\t//consider Uint8Array knows how to treat the input\r\n\tvar result = new Uint8Array(arg)\r\n\r\n\tif (!result.length) return null\r\n\treturn result.buffer\r\n}\r\n","// A simple mime database.\nvar types;\nmodule.exports = function setup(defaultMime) {\n  return function getMime(path) {\n    path = path.toLowerCase().trim();\n    var index = path.lastIndexOf(\"/\");\n    if (index >= 0) {\n      path = path.substr(index + 1);\n    }\n    index = path.lastIndexOf(\".\");\n    if (index >= 0) {\n      path = path.substr(index + 1);\n    }\n    return types[path] || defaultMime;\n  };\n};\n\n// Borrowed and passed around from who knows where, last grabbed from connect.\ntypes = {\n  \"3gp\": \"video/3gpp\",\n  a: \"application/octet-stream\",\n  ai: \"application/postscript\",\n  aif: \"audio/x-aiff\",\n  aiff: \"audio/x-aiff\",\n  asc: \"application/pgp-signature\",\n  asf: \"video/x-ms-asf\",\n  asm: \"text/x-asm\",\n  asx: \"video/x-ms-asf\",\n  atom: \"application/atom+xml\",\n  au: \"audio/basic\",\n  avi: \"video/x-msvideo\",\n  bat: \"application/x-msdownload\",\n  bin: \"application/octet-stream\",\n  bmp: \"image/bmp\",\n  bz2: \"application/x-bzip2\",\n  c: \"text/x-csrc\",\n  cab: \"application/vnd.ms-cab-compressed\",\n  can: \"application/candor\",\n  cc: \"text/x-c++src\",\n  chm: \"application/vnd.ms-htmlhelp\",\n  \"class\": \"application/octet-stream\",\n  com: \"application/x-msdownload\",\n  conf: \"text/plain\",\n  cpp: \"text/x-c\",\n  crt: \"application/x-x509-ca-cert\",\n  css: \"text/css\",\n  csv: \"text/csv\",\n  cxx: \"text/x-c\",\n  deb: \"application/x-debian-package\",\n  der: \"application/x-x509-ca-cert\",\n  diff: \"text/x-diff\",\n  djv: \"image/vnd.djvu\",\n  djvu: \"image/vnd.djvu\",\n  dll: \"application/x-msdownload\",\n  dmg: \"application/octet-stream\",\n  doc: \"application/msword\",\n  dot: \"application/msword\",\n  dtd: \"application/xml-dtd\",\n  dvi: \"application/x-dvi\",\n  ear: \"application/java-archive\",\n  eml: \"message/rfc822\",\n  eps: \"application/postscript\",\n  exe: \"application/x-msdownload\",\n  f: \"text/x-fortran\",\n  f77: \"text/x-fortran\",\n  f90: \"text/x-fortran\",\n  flv: \"video/x-flv\",\n  \"for\": \"text/x-fortran\",\n  gem: \"application/octet-stream\",\n  gemspec: \"text/x-script.ruby\",\n  gif: \"image/gif\",\n  gyp: \"text/x-script.python\",\n  gypi: \"text/x-script.python\",\n  gz: \"application/x-gzip\",\n  h: \"text/x-chdr\",\n  hh: \"text/x-c++hdr\",\n  htm: \"text/html\",\n  html: \"text/html\",\n  ico: \"image/vnd.microsoft.icon\",\n  ics: \"text/calendar\",\n  ifb: \"text/calendar\",\n  iso: \"application/octet-stream\",\n  jar: \"application/java-archive\",\n  java: \"text/x-java-source\",\n  jnlp: \"application/x-java-jnlp-file\",\n  jpeg: \"image/jpeg\",\n  jpg: \"image/jpeg\",\n  js: \"application/javascript\",\n  json: \"application/json\",\n  less: \"text/css\",\n  log: \"text/plain\",\n  lua: \"text/x-script.lua\",\n  luac: \"application/x-bytecode.lua\",\n  makefile: \"text/x-makefile\",\n  m3u: \"audio/x-mpegurl\",\n  m4v: \"video/mp4\",\n  man: \"text/troff\",\n  manifest: \"text/cache-manifest\",\n  markdown: \"text/x-markdown\",\n  mathml: \"application/mathml+xml\",\n  mbox: \"application/mbox\",\n  mdoc: \"text/troff\",\n  md: \"text/x-markdown\",\n  me: \"text/troff\",\n  mid: \"audio/midi\",\n  midi: \"audio/midi\",\n  mime: \"message/rfc822\",\n  mml: \"application/mathml+xml\",\n  mng: \"video/x-mng\",\n  mov: \"video/quicktime\",\n  mp3: \"audio/mpeg\",\n  mp4: \"video/mp4\",\n  mp4v: \"video/mp4\",\n  mpeg: \"video/mpeg\",\n  mpg: \"video/mpeg\",\n  ms: \"text/troff\",\n  msi: \"application/x-msdownload\",\n  odp: \"application/vnd.oasis.opendocument.presentation\",\n  ods: \"application/vnd.oasis.opendocument.spreadsheet\",\n  odt: \"application/vnd.oasis.opendocument.text\",\n  ogg: \"application/ogg\",\n  p: \"text/x-pascal\",\n  pas: \"text/x-pascal\",\n  pbm: \"image/x-portable-bitmap\",\n  pdf: \"application/pdf\",\n  pem: \"application/x-x509-ca-cert\",\n  pgm: \"image/x-portable-graymap\",\n  pgp: \"application/pgp-encrypted\",\n  pkg: \"application/octet-stream\",\n  pl: \"text/x-script.perl\",\n  pm: \"text/x-script.perl-module\",\n  png: \"image/png\",\n  pnm: \"image/x-portable-anymap\",\n  ppm: \"image/x-portable-pixmap\",\n  pps: \"application/vnd.ms-powerpoint\",\n  ppt: \"application/vnd.ms-powerpoint\",\n  ps: \"application/postscript\",\n  psd: \"image/vnd.adobe.photoshop\",\n  py: \"text/x-script.python\",\n  qt: \"video/quicktime\",\n  ra: \"audio/x-pn-realaudio\",\n  rake: \"text/x-script.ruby\",\n  ram: \"audio/x-pn-realaudio\",\n  rar: \"application/x-rar-compressed\",\n  rb: \"text/x-script.ruby\",\n  rdf: \"application/rdf+xml\",\n  roff: \"text/troff\",\n  rpm: \"application/x-redhat-package-manager\",\n  rss: \"application/rss+xml\",\n  rtf: \"application/rtf\",\n  ru: \"text/x-script.ruby\",\n  s: \"text/x-asm\",\n  sgm: \"text/sgml\",\n  sgml: \"text/sgml\",\n  sh: \"application/x-sh\",\n  sig: \"application/pgp-signature\",\n  snd: \"audio/basic\",\n  so: \"application/octet-stream\",\n  svg: \"image/svg+xml\",\n  svgz: \"image/svg+xml\",\n  swf: \"application/x-shockwave-flash\",\n  t: \"text/troff\",\n  tar: \"application/x-tar\",\n  tbz: \"application/x-bzip-compressed-tar\",\n  tci: \"application/x-topcloud\",\n  tcl: \"application/x-tcl\",\n  tex: \"application/x-tex\",\n  texi: \"application/x-texinfo\",\n  texinfo: \"application/x-texinfo\",\n  text: \"text/plain\",\n  tif: \"image/tiff\",\n  tiff: \"image/tiff\",\n  torrent: \"application/x-bittorrent\",\n  tr: \"text/troff\",\n  ttf: \"application/x-font-ttf\",\n  txt: \"text/plain\",\n  vcf: \"text/x-vcard\",\n  vcs: \"text/x-vcalendar\",\n  vrml: \"model/vrml\",\n  war   : \"application/java-archive\",\n  wav   : \"audio/x-wav\",\n  webapp: \"application/x-web-app-manifest+json\",\n  webm: \"video/webm\",\n  wma: \"audio/x-ms-wma\",\n  wmv: \"video/x-ms-wmv\",\n  wmx: \"video/x-ms-wmx\",\n  wrl: \"model/vrml\",\n  wsdl: \"application/wsdl+xml\",\n  xbm: \"image/x-xbitmap\",\n  xhtml: \"application/xhtml+xml\",\n  xls: \"application/vnd.ms-excel\",\n  xml: \"application/xml\",\n  xpm: \"image/x-xpixmap\",\n  xsl: \"application/xml\",\n  xslt: \"application/xslt+xml\",\n  yaml: \"text/yaml\",\n  yml: \"text/yaml\",\n  zip: \"application/zip\"\n};\n","/* globals Blob */\n'use strict';\nvar toString = Object.prototype.toString;\n\nmodule.exports = function (x) {\n\treturn x instanceof Blob || toString.call(x) === '[object Blob]';\n};\n","'use strict'\r\n\r\nvar ab = require('to-array-buffer')\r\nvar getMimeType = require('simple-mime')('application/octect-stream')\r\nvar isBlob = require('is-blob')\r\n\r\nmodule.exports = function toBlob (data, filename) {\r\n\t//create blob, if not already\r\n\tif (!isBlob(data) && !(data instanceof File)) {\r\n\t\tdata = ab(data)\r\n\t\tvar mime = getMimeType(filename || '')\r\n\t\tdata = new Blob([data], {type: mime})\r\n\t}\r\n\r\n\treturn data\r\n}\r\n","/**\r\n * Save file in browser\r\n *\r\n * @module save-file/browser\r\n */\r\n'use strict'\r\n\r\nvar saveAs = require('file-saver').saveAs\r\nvar toBlob = require('./src/to-blob')\r\n\r\nvar planned = null\r\n\r\nmodule.exports = save\r\nmodule.exports.save = save\r\nmodule.exports.saveSync = saveSync\r\n\r\nfunction save (data, filename) {\r\n\t// swap data/filename\r\n\tif (typeof data === 'string') {\r\n\t\t// writing string to string - take the lengthier\r\n\t\tif (typeof filename !== 'string' || filename.length > data.length) {\r\n\t\t\tvar x = filename\r\n\t\t\tfilename = data\r\n\t\t\tdata = x\r\n\t\t}\r\n\t}\r\n\r\n\tvar blob = toBlob(data, filename)\r\n\r\n\tif (planned) {\r\n\t\treturn planned.then(function () {\r\n\t\t\tplanned = save(data, filename)\r\n\t\t\treturn planned\r\n\t\t})\r\n\t}\r\n\telse {\r\n\t\tplanned = new Promise(function (ok, nok) {\r\n\r\n\t\t\tsaveAs(blob, filename)\r\n\r\n\t\t\t//prompt next dialog only when window got focus back\r\n\t\t\twindow.addEventListener('focus', function resolve() {\r\n\t\t\t\tplanned = null\r\n\t\t\t\twindow.removeEventListener('focus', resolve)\r\n\t\t\t\tok()\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\treturn planned\r\n\t}\r\n}\r\n\r\nfunction saveSync (data, filename) {\r\n\treturn saveAs(toBlob(data, filename), filename)\r\n}\r\n","module.exports = fetch;\n","const fetch = require('node-fetch'); // Automatically excluded in browser bundles\n\nasync function api(endpoint, token) {\n\tconst response = await fetch(`https://api.github.com/repos/${endpoint}`, {\n\t\theaders: token ? {\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t} : undefined\n\t});\n\treturn response.json();\n}\n\n// Great for downloads with few sub directories on big repos\n// Cons: many requests if the repo has a lot of nested dirs\nasync function viaContentsApi({\n\tuser,\n\trepository,\n\tref = 'HEAD',\n\tdirectory,\n\ttoken,\n\tgetFullData = false\n}) {\n\tconst files = [];\n\tconst requests = [];\n\tconst contents = await api(`${user}/${repository}/contents/${directory}?ref=${ref}`, token);\n\n\tif (contents.message === 'Not Found') {\n\t\treturn [];\n\t}\n\n\tif (contents.message) {\n\t\tthrow new Error(contents.message);\n\t}\n\n\tfor (const item of contents) {\n\t\tif (item.type === 'file') {\n\t\t\tfiles.push(getFullData ? item : item.path);\n\t\t} else if (item.type === 'dir') {\n\t\t\trequests.push(viaContentsApi({\n\t\t\t\tuser,\n\t\t\t\trepository,\n\t\t\t\tref,\n\t\t\t\tdirectory: item.path,\n\t\t\t\ttoken,\n\t\t\t\tgetFullData\n\t\t\t}));\n\t\t}\n\t}\n\n\treturn files.concat(...await Promise.all(requests));\n}\n\n// Great for downloads with many sub directories\n// Pros: one request + maybe doesn't require token\n// Cons: huge on huge repos + may be truncated\nasync function viaTreesApi({\n\tuser,\n\trepository,\n\tref = 'HEAD',\n\tdirectory,\n\ttoken,\n\tgetFullData = false\n}) {\n\tif (!directory.endsWith('/')) {\n\t\tdirectory += '/';\n\t}\n\n\tconst files = [];\n\tconst contents = await api(`${user}/${repository}/git/trees/${ref}?recursive=1`, token);\n\tif (contents.message) {\n\t\tthrow new Error(contents.message);\n\t}\n\n\tfor (const item of contents.tree) {\n\t\tif (item.type === 'blob' && item.path.startsWith(directory)) {\n\t\t\tfiles.push(getFullData ? item : item.path);\n\t\t}\n\t}\n\n\tfiles.truncated = contents.truncated;\n\treturn files;\n}\n\nmodule.exports.viaContentsApi = viaContentsApi;\nmodule.exports.viaContentApi = viaContentsApi;\nmodule.exports.viaTreesApi = viaTreesApi;\nmodule.exports.viaTreeApi = viaTreesApi;\n","'use strict';\n\nmodule.exports = (string, count = 1, options) => {\n\toptions = {\n\t\tindent: ' ',\n\t\tincludeEmptyLines: false,\n\t\t...options\n\t};\n\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`input\\` to be a \\`string\\`, got \\`${typeof string}\\``\n\t\t);\n\t}\n\n\tif (typeof count !== 'number') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`count\\` to be a \\`number\\`, got \\`${typeof count}\\``\n\t\t);\n\t}\n\n\tif (typeof options.indent !== 'string') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`options.indent\\` to be a \\`string\\`, got \\`${typeof options.indent}\\``\n\t\t);\n\t}\n\n\tif (count === 0) {\n\t\treturn string;\n\t}\n\n\tconst regex = options.includeEmptyLines ? /^/gm : /^(?!\\s*$)/gm;\n\n\treturn string.replace(regex, options.indent.repeat(count));\n};\n","'use strict';\nconst os = require('os');\n\nconst extractPathRegex = /\\s+at.*(?:\\(|\\s)(.*)\\)?/;\nconst pathRegex = /^(?:(?:(?:node|(?:internal\\/[\\w/]*|.*node_modules\\/(?:babel-polyfill|pirates)\\/.*)?\\w+)\\.js:\\d+:\\d+)|native)/;\nconst homeDir = typeof os.homedir === 'undefined' ? '' : os.homedir();\n\nmodule.exports = (stack, options) => {\n\toptions = Object.assign({pretty: false}, options);\n\n\treturn stack.replace(/\\\\/g, '/')\n\t\t.split('\\n')\n\t\t.filter(line => {\n\t\t\tconst pathMatches = line.match(extractPathRegex);\n\t\t\tif (pathMatches === null || !pathMatches[1]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst match = pathMatches[1];\n\n\t\t\t// Electron\n\t\t\tif (\n\t\t\t\tmatch.includes('.app/Contents/Resources/electron.asar') ||\n\t\t\t\tmatch.includes('.app/Contents/Resources/default_app.asar')\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn !pathRegex.test(match);\n\t\t})\n\t\t.filter(line => line.trim() !== '')\n\t\t.map(line => {\n\t\t\tif (options.pretty) {\n\t\t\t\treturn line.replace(extractPathRegex, (m, p1) => m.replace(p1, p1.replace(homeDir, '~')));\n\t\t\t}\n\n\t\t\treturn line;\n\t\t})\n\t\t.join('\\n');\n};\n","'use strict';\nconst indentString = require('indent-string');\nconst cleanStack = require('clean-stack');\n\nconst cleanInternalStack = stack => stack.replace(/\\s+at .*aggregate-error\\/index.js:\\d+:\\d+\\)?/g, '');\n\nclass AggregateError extends Error {\n\tconstructor(errors) {\n\t\tif (!Array.isArray(errors)) {\n\t\t\tthrow new TypeError(`Expected input to be an Array, got ${typeof errors}`);\n\t\t}\n\n\t\terrors = [...errors].map(error => {\n\t\t\tif (error instanceof Error) {\n\t\t\t\treturn error;\n\t\t\t}\n\n\t\t\tif (error !== null && typeof error === 'object') {\n\t\t\t\t// Handle plain error objects with message property and/or possibly other metadata\n\t\t\t\treturn Object.assign(new Error(error.message), error);\n\t\t\t}\n\n\t\t\treturn new Error(error);\n\t\t});\n\n\t\tlet message = errors\n\t\t\t.map(error => {\n\t\t\t\t// The `stack` property is not standardized, so we can't assume it exists\n\t\t\t\treturn typeof error.stack === 'string' ? cleanInternalStack(cleanStack(error.stack)) : String(error);\n\t\t\t})\n\t\t\t.join('\\n');\n\t\tmessage = '\\n' + indentString(message, 4);\n\t\tsuper(message);\n\n\t\tthis.name = 'AggregateError';\n\n\t\tObject.defineProperty(this, '_errors', {value: errors});\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const error of this._errors) {\n\t\t\tyield error;\n\t\t}\n\t}\n}\n\nmodule.exports = AggregateError;\n","'use strict';\nconst AggregateError = require('aggregate-error');\n\nmodule.exports = async (\n\titerable,\n\tmapper,\n\t{\n\t\tconcurrency = Infinity,\n\t\tstopOnError = true\n\t} = {}\n) => {\n\treturn new Promise((resolve, reject) => {\n\t\tif (typeof mapper !== 'function') {\n\t\t\tthrow new TypeError('Mapper function is required');\n\t\t}\n\n\t\tif (!((Number.isSafeInteger(concurrency) || concurrency === Infinity) && concurrency >= 1)) {\n\t\t\tthrow new TypeError(`Expected \\`concurrency\\` to be an integer from 1 and up or \\`Infinity\\`, got \\`${concurrency}\\` (${typeof concurrency})`);\n\t\t}\n\n\t\tconst result = [];\n\t\tconst errors = [];\n\t\tconst iterator = iterable[Symbol.iterator]();\n\t\tlet isRejected = false;\n\t\tlet isIterableDone = false;\n\t\tlet resolvingCount = 0;\n\t\tlet currentIndex = 0;\n\n\t\tconst next = () => {\n\t\t\tif (isRejected) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst nextItem = iterator.next();\n\t\t\tconst index = currentIndex;\n\t\t\tcurrentIndex++;\n\n\t\t\tif (nextItem.done) {\n\t\t\t\tisIterableDone = true;\n\n\t\t\t\tif (resolvingCount === 0) {\n\t\t\t\t\tif (!stopOnError && errors.length !== 0) {\n\t\t\t\t\t\treject(new AggregateError(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresolvingCount++;\n\n\t\t\t(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst element = await nextItem.value;\n\t\t\t\t\tresult[index] = await mapper(element, index);\n\t\t\t\t\tresolvingCount--;\n\t\t\t\t\tnext();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (stopOnError) {\n\t\t\t\t\t\tisRejected = true;\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors.push(error);\n\t\t\t\t\t\tresolvingCount--;\n\t\t\t\t\t\tnext();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})();\n\t\t};\n\n\t\tfor (let i = 0; i < concurrency; i++) {\n\t\t\tnext();\n\n\t\t\tif (isIterableDone) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n};\n","function RetryOperation(timeouts, options) {\n  // Compatibility for the old (timeouts, retryForever) signature\n  if (typeof options === 'boolean') {\n    options = { forever: options };\n  }\n\n  this._originalTimeouts = JSON.parse(JSON.stringify(timeouts));\n  this._timeouts = timeouts;\n  this._options = options || {};\n  this._maxRetryTime = options && options.maxRetryTime || Infinity;\n  this._fn = null;\n  this._errors = [];\n  this._attempts = 1;\n  this._operationTimeout = null;\n  this._operationTimeoutCb = null;\n  this._timeout = null;\n  this._operationStart = null;\n  this._timer = null;\n\n  if (this._options.forever) {\n    this._cachedTimeouts = this._timeouts.slice(0);\n  }\n}\nmodule.exports = RetryOperation;\n\nRetryOperation.prototype.reset = function() {\n  this._attempts = 1;\n  this._timeouts = this._originalTimeouts.slice(0);\n}\n\nRetryOperation.prototype.stop = function() {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n  if (this._timer) {\n    clearTimeout(this._timer);\n  }\n\n  this._timeouts       = [];\n  this._cachedTimeouts = null;\n};\n\nRetryOperation.prototype.retry = function(err) {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n\n  if (!err) {\n    return false;\n  }\n  var currentTime = new Date().getTime();\n  if (err && currentTime - this._operationStart >= this._maxRetryTime) {\n    this._errors.push(err);\n    this._errors.unshift(new Error('RetryOperation timeout occurred'));\n    return false;\n  }\n\n  this._errors.push(err);\n\n  var timeout = this._timeouts.shift();\n  if (timeout === undefined) {\n    if (this._cachedTimeouts) {\n      // retry forever, only keep last error\n      this._errors.splice(0, this._errors.length - 1);\n      timeout = this._cachedTimeouts.slice(-1);\n    } else {\n      return false;\n    }\n  }\n\n  var self = this;\n  this._timer = setTimeout(function() {\n    self._attempts++;\n\n    if (self._operationTimeoutCb) {\n      self._timeout = setTimeout(function() {\n        self._operationTimeoutCb(self._attempts);\n      }, self._operationTimeout);\n\n      if (self._options.unref) {\n          self._timeout.unref();\n      }\n    }\n\n    self._fn(self._attempts);\n  }, timeout);\n\n  if (this._options.unref) {\n      this._timer.unref();\n  }\n\n  return true;\n};\n\nRetryOperation.prototype.attempt = function(fn, timeoutOps) {\n  this._fn = fn;\n\n  if (timeoutOps) {\n    if (timeoutOps.timeout) {\n      this._operationTimeout = timeoutOps.timeout;\n    }\n    if (timeoutOps.cb) {\n      this._operationTimeoutCb = timeoutOps.cb;\n    }\n  }\n\n  var self = this;\n  if (this._operationTimeoutCb) {\n    this._timeout = setTimeout(function() {\n      self._operationTimeoutCb();\n    }, self._operationTimeout);\n  }\n\n  this._operationStart = new Date().getTime();\n\n  this._fn(this._attempts);\n};\n\nRetryOperation.prototype.try = function(fn) {\n  console.log('Using RetryOperation.try() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = function(fn) {\n  console.log('Using RetryOperation.start() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = RetryOperation.prototype.try;\n\nRetryOperation.prototype.errors = function() {\n  return this._errors;\n};\n\nRetryOperation.prototype.attempts = function() {\n  return this._attempts;\n};\n\nRetryOperation.prototype.mainError = function() {\n  if (this._errors.length === 0) {\n    return null;\n  }\n\n  var counts = {};\n  var mainError = null;\n  var mainErrorCount = 0;\n\n  for (var i = 0; i < this._errors.length; i++) {\n    var error = this._errors[i];\n    var message = error.message;\n    var count = (counts[message] || 0) + 1;\n\n    counts[message] = count;\n\n    if (count >= mainErrorCount) {\n      mainError = error;\n      mainErrorCount = count;\n    }\n  }\n\n  return mainError;\n};\n","var RetryOperation = require('./retry_operation');\n\nexports.operation = function(options) {\n  var timeouts = exports.timeouts(options);\n  return new RetryOperation(timeouts, {\n      forever: options && (options.forever || options.retries === Infinity),\n      unref: options && options.unref,\n      maxRetryTime: options && options.maxRetryTime\n  });\n};\n\nexports.timeouts = function(options) {\n  if (options instanceof Array) {\n    return [].concat(options);\n  }\n\n  var opts = {\n    retries: 10,\n    factor: 2,\n    minTimeout: 1 * 1000,\n    maxTimeout: Infinity,\n    randomize: false\n  };\n  for (var key in options) {\n    opts[key] = options[key];\n  }\n\n  if (opts.minTimeout > opts.maxTimeout) {\n    throw new Error('minTimeout is greater than maxTimeout');\n  }\n\n  var timeouts = [];\n  for (var i = 0; i < opts.retries; i++) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  if (options && options.forever && !timeouts.length) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  // sort the array numerically ascending\n  timeouts.sort(function(a,b) {\n    return a - b;\n  });\n\n  return timeouts;\n};\n\nexports.createTimeout = function(attempt, opts) {\n  var random = (opts.randomize)\n    ? (Math.random() + 1)\n    : 1;\n\n  var timeout = Math.round(random * Math.max(opts.minTimeout, 1) * Math.pow(opts.factor, attempt));\n  timeout = Math.min(timeout, opts.maxTimeout);\n\n  return timeout;\n};\n\nexports.wrap = function(obj, options, methods) {\n  if (options instanceof Array) {\n    methods = options;\n    options = null;\n  }\n\n  if (!methods) {\n    methods = [];\n    for (var key in obj) {\n      if (typeof obj[key] === 'function') {\n        methods.push(key);\n      }\n    }\n  }\n\n  for (var i = 0; i < methods.length; i++) {\n    var method   = methods[i];\n    var original = obj[method];\n\n    obj[method] = function retryWrapper(original) {\n      var op       = exports.operation(options);\n      var args     = Array.prototype.slice.call(arguments, 1);\n      var callback = args.pop();\n\n      args.push(function(err) {\n        if (op.retry(err)) {\n          return;\n        }\n        if (err) {\n          arguments[0] = op.mainError();\n        }\n        callback.apply(this, arguments);\n      });\n\n      op.attempt(function() {\n        original.apply(obj, args);\n      });\n    }.bind(obj, original);\n    obj[method].options = options;\n  }\n};\n","module.exports = require('./lib/retry');","import retry from 'retry';\n\nconst networkErrorMsgs = new Set([\n\t'Failed to fetch', // Chrome\n\t'NetworkError when attempting to fetch resource.', // Firefox\n\t'The Internet connection appears to be offline.', // Safari\n\t'Network request failed', // `cross-fetch`\n]);\n\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\n\t\tif (message instanceof Error) {\n\t\t\tthis.originalError = message;\n\t\t\t({message} = message);\n\t\t} else {\n\t\t\tthis.originalError = new Error(message);\n\t\t\tthis.originalError.stack = this.stack;\n\t\t}\n\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\nconst decorateErrorWithCounts = (error, attemptNumber, options) => {\n\t// Minus 1 from attemptNumber because the first attempt does not count as a retry\n\tconst retriesLeft = options.retries - (attemptNumber - 1);\n\n\terror.attemptNumber = attemptNumber;\n\terror.retriesLeft = retriesLeft;\n\treturn error;\n};\n\nconst isNetworkError = errorMessage => networkErrorMsgs.has(errorMessage);\n\nexport default async function pRetry(input, options) {\n\treturn new Promise((resolve, reject) => {\n\t\toptions = {\n\t\t\tonFailedAttempt: () => {},\n\t\t\tretries: 10,\n\t\t\t...options,\n\t\t};\n\n\t\tconst operation = retry.operation(options);\n\n\t\toperation.attempt(async attemptNumber => {\n\t\t\ttry {\n\t\t\t\tresolve(await input(attemptNumber));\n\t\t\t} catch (error) {\n\t\t\t\tif (!(error instanceof Error)) {\n\t\t\t\t\treject(new TypeError(`Non-error was thrown: \"${error}\". You should only throw errors.`));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (error instanceof AbortError) {\n\t\t\t\t\toperation.stop();\n\t\t\t\t\treject(error.originalError);\n\t\t\t\t} else if (error instanceof TypeError && !isNetworkError(error.message)) {\n\t\t\t\t\toperation.stop();\n\t\t\t\t\treject(error);\n\t\t\t\t} else {\n\t\t\t\t\tdecorateErrorWithCounts(error, attemptNumber, options);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait options.onFailedAttempt(error);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!operation.retry(error)) {\n\t\t\t\t\t\treject(operation.mainError());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n","import saveFile from 'save-file';\nimport listContent from 'list-github-dir-content';\nimport pMap from 'p-map';\nimport pRetry from 'p-retry';\n\n// Matches '/<re/po>/tree/<ref>/<dir>'\nconst urlParserRegex = /^[/]([^/]+)[/]([^/]+)[/]tree[/]([^/]+)[/](.*)/;\n\nfunction updateStatus(status, ...extra) {\n\tconst element = document.querySelector('.status');\n\telement.innerHTML = status || '';\n\tconsole.log(element.textContent, ...extra);\n}\n\nasync function waitForToken() {\n\tconst input = document.querySelector('#token');\n\n\tif (localStorage.token) {\n\t\tinput.value = localStorage.token;\n\t} else {\n\t\tconst toggle = document.querySelector('#token-toggle');\n\t\ttoggle.checked = true;\n\t\tupdateStatus('Waiting for token...');\n\t\tawait new Promise(resolve => {\n\t\t\tinput.addEventListener('input', function handler() {\n\t\t\t\tif (input.checkValidity()) {\n\t\t\t\t\ttoggle.checked = false;\n\t\t\t\t\tresolve();\n\t\t\t\t\tinput.removeEventListener('input', handler);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\nasync function fetchRepoInfo(repo) {\n\tconst response = await fetch(`https://api.github.com/repos/${repo}`,\n\t\tlocalStorage.token ? {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${localStorage.token}`,\n\t\t\t},\n\t\t} : {},\n\t);\n\n\tswitch (response.status) {\n\t\tcase 401:\n\t\t\tupdateStatus('⚠ The token provided is invalid or has been revoked.', {token: localStorage.token});\n\t\t\tthrow new Error('Invalid token');\n\n\t\tcase 403:\n\t\t\t// See https://developer.github.com/v3/#rate-limiting\n\t\t\tif (response.headers.get('X-RateLimit-Remaining') === '0') {\n\t\t\t\tupdateStatus('⚠ Your token rate limit has been exceeded.', {token: localStorage.token});\n\t\t\t\tthrow new Error('Rate limit exceeded');\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase 404:\n\t\t\tupdateStatus('⚠ Repository was not found.', {repo});\n\t\t\tthrow new Error('Repository not found');\n\n\t\tdefault:\n\t}\n\n\tif (!response.ok) {\n\t\tupdateStatus('⚠ Could not obtain repository data from the GitHub API.', {repo, response});\n\t\tthrow new Error('Fetch error');\n\t}\n\n\treturn response.json();\n}\n\nasync function getZIP() {\n\tconst {default: JSZip} = await import(new URL('https://cdn.skypack.dev/jszip@^3.4.0'));\n\treturn new JSZip();\n}\n\nasync function init() {\n\tconst zip = getZIP();\n\tlet user;\n\tlet repository;\n\tlet ref;\n\tlet dir;\n\n\tconst input = document.querySelector('#token');\n\tif (localStorage.token) {\n\t\tinput.value = localStorage.token;\n\t}\n\n\tinput.addEventListener('input', () => {\n\t\tif (input.checkValidity()) {\n\t\t\tlocalStorage.token = input.value;\n\t\t}\n\t});\n\n\ttry {\n\t\tconst query = new URLSearchParams(location.search);\n\t\tconst parsedUrl = new URL(query.get('url'));\n\t\t[, user, repository, ref, dir] = urlParserRegex.exec(parsedUrl.pathname);\n\n\t\tconsole.log('Source:', {user, repository, ref, dir});\n\t} catch {\n\t\treturn updateStatus();\n\t}\n\n\tif (!navigator.onLine) {\n\t\tupdateStatus('⚠ You are offline.');\n\t\tthrow new Error('You are offline');\n\t}\n\n\tupdateStatus('Retrieving directory info…');\n\n\tconst {private: repoIsPrivate} = await fetchRepoInfo(`${user}/${repository}`);\n\n\tconst files = await listContent.viaTreesApi({\n\t\tuser,\n\t\trepository,\n\t\tref,\n\t\tdirectory: decodeURIComponent(dir),\n\t\ttoken: localStorage.token,\n\t\tgetFullData: true,\n\t});\n\n\tif (files.length === 0) {\n\t\tupdateStatus('No files to download');\n\t\treturn;\n\t}\n\n\tupdateStatus(`Downloading (0/${files.length}) files…`, '\\n• ' + files.map(file => file.path).join('\\n• '));\n\n\tconst controller = new AbortController();\n\n\tconst fetchPublicFile = async file => {\n\t\tconst response = await fetch(`https://raw.githubusercontent.com/${user}/${repository}/${ref}/${file.path}`, {\n\t\t\tsignal: controller.signal,\n\t\t});\n\n\t\tif (!response.ok) {\n\t\t\tthrow new Error(`HTTP ${response.statusText} for ${file.path}`);\n\t\t}\n\n\t\treturn response.blob();\n\t};\n\n\tconst fetchPrivateFile = async file => {\n\t\tconst response = await fetch(file.url, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${localStorage.token}`,\n\t\t\t},\n\t\t\tsignal: controller.signal,\n\t\t});\n\n\t\tif (!response.ok) {\n\t\t\tthrow new Error(`HTTP ${response.statusText} for ${file.path}`);\n\t\t}\n\n\t\tconst {content} = await response.json();\n\t\tconst decoder = await fetch(`data:application/octet-stream;base64,${content}`);\n\t\treturn decoder.blob();\n\t};\n\n\tlet downloaded = 0;\n\tconst downloadFile = async file => pRetry(\n\t\t() => repoIsPrivate ? fetchPrivateFile(file) : fetchPublicFile(file),\n\t\t{\n\t\t\tonFailedAttempt: async error => {\n\t\t\t\tawait console.error(`Error downloading ${file.url}. Attempt ${error.attemptNumber}. ${error.retriesLeft} retries left.`);\n\t\t\t},\n\t\t});\n\n\tconst downloadToZip = async file => {\n\t\tconst blob = await downloadFile(file);\n\n\t\tdownloaded++;\n\t\tupdateStatus(`Downloading (${downloaded}/${files.length}) files…`, file.path);\n\n\t\t(await zip).file(file.path.replace(dir + '/', ''), blob, {\n\t\t\tbinary: true,\n\t\t});\n\t};\n\n\tif (repoIsPrivate) {\n\t\tawait waitForToken();\n\t}\n\n\ttry {\n\t\tawait pMap(files, downloadToZip, {concurrency: 20});\n\t} catch (error) {\n\t\tcontroller.abort();\n\n\t\tif (!navigator.onLine) {\n\t\t\tupdateStatus('⚠ Could not download all files, network connection lost.');\n\t\t} else if (error.message.startsWith('HTTP ')) {\n\t\t\tupdateStatus('⚠ Could not download all files.');\n\t\t} else {\n\t\t\tupdateStatus('⚠ Some files were blocked from downloading, try to disable any ad blockers and refresh the page.');\n\t\t}\n\n\t\tthrow error;\n\t}\n\n\tupdateStatus(`Zipping ${downloaded} files…`);\n\n\tconst zipBlob = await (await zip).generateAsync({\n\t\ttype: 'blob',\n\t});\n\n\tawait saveFile(zipBlob, `${user} ${repository} ${ref} ${dir}.zip`.replace(/\\//, '-'));\n\tupdateStatus(`Downloaded ${downloaded} files! Done!`);\n}\n\ninit();\n\nwindow.addEventListener('load', () => {\n\tnavigator.serviceWorker.register(new URL('service-worker.js'));\n});\n"]}